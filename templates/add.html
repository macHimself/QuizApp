{% extends "base.html" %}

{% block title %}â• PÅ™idÃ¡nÃ­ otÃ¡zek do okruhu {{ topic }}{% endblock %}

{% block content %}
  <h2>â• PÅ™idat novÃ© otÃ¡zky</h2>

  <form method="get" action="{{ url_for('add_questions', topic='__placeholder__') }}" onsubmit="event.preventDefault(); location.href=this.action.replace('__placeholder__', this.topic.value);">
    <label for="topic">Vyber okruh:</label>
    <select name="topic" id="topic">
      {% for t in all_topics %}
        <option value="{{ t }}" {% if t == topic %}selected{% endif %}>{{ t }}</option>
      {% endfor %}
    </select>
    <button type="submit">ğŸ” PÅ™epnout</button>
  </form>

  <hr>

  <p><strong>AktuÃ¡lnÃ­ okruh:</strong> {{ topic }}</p>

  {% if message %}
    <p style="color: {% if 'âœ…' in message %}green{% else %}red{% endif %};">{{ message }}</p>
  {% endif %}

  <h3>ğŸ“ HromadnÃ© pÅ™idÃ¡nÃ­ (JSON)</h3>
  <form method="post">
    <textarea name="questions_json" rows="10" cols="80" placeholder='[{"question": "...", "answer": "..."}, ...]'></textarea><br>
    <button type="submit">ğŸ’¾ PÅ™idat hromadnÄ›</button>
  </form>

  <hr>

  <h3>â• PÅ™idÃ¡nÃ­ jednÃ© otÃ¡zky</h3>
  <form method="post">
    <label>OtÃ¡zka:</label><br>
    <input type="text" name="single_question" size="80"><br><br>
    <label>OdpovÄ›Ä:</label><br>
    <input type="text" name="single_answer" size="80"><br><br>
    <button type="submit">âœ… PÅ™idat otÃ¡zku</button>
  </form>

  <p>
    <a href="{{ url_for('quiz', topic=topic) }}">â¬…ï¸ ZpÄ›t na testovÃ¡nÃ­</a> |
    <a href="{{ url_for('home') }}">ğŸ  HlavnÃ­ strÃ¡nka</a>
  </p>
{% endblock %}